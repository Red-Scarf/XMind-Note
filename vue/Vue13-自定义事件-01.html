<!DOCTYPE html>
<html>
<head>
	<title>自定义事件</title>
</head>
<body>
	<div id="vm1">
		<base-template v-model="learningVue"></base-template>
		<p>{{learningVue}}</p>
		<br>
		<br>
		<!-- 原生事件绑定到组件 -->
		
	</div>
</body>
<script src="vue.js"></script>
<script src="utils.js"></script>
<script type="text/javascript">
	Vue.component('base-template', {
		model: {
			prop: 'checked',
			event: 'change'
		},
		props: {
			checked: Boolean
		},
		template: `
			<input
				type="checkbox"
				v-bind:checked="checked"
				v-on:change="$emit('change', $event.target.checked)"
			>
		`
	});
	Vue.component('base-input', {
		inheritAttrs: false,
		props: ['label', 'value'],
		computed: {
			inputListeners: function () {
				var vm = this;
				return Object.assign(
					{},
					this.$listeners,
					{
						input: function (event) {
							vm.$emit('input', event.target.value);
						}
					}
				);
			}
		},
		template: `
			<label>
				<input
					v-bind="$attrs"
					v-bind:value="value"
					v-on="inputListeners"
				>
			</label>
		`
	});
	var vm1 = new Vue({
		el: '#vm1',
		data: {
			learningVue: false
		}
	});
</script>
</html>